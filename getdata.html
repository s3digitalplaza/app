<!doctype html>
<html lang="en-us">

    <head>

        <!-- Meta -->
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <meta name="viewport" content="width=device-width,initial-scale=1">

        <title>s3Digital.in - Your very own Electronics Store</title>
        <meta name="description" content="s3Digital.in - Your very own Electronics Store - Best elctronics store with huge collection of Televisions, Refrigerators, Air Conditioners, Washing Machines and other Accessories.">
        <meta name="author" content="s3Digital">
        <meta name="keywords" content="Electronic Stores, wholesale electronic store, electronic shop near me, electronics store near me, online electronics store, best electronic store">
        <meta name="robots" content="index, follow">

        <meta property="og:title" content="s3Digital.in - Your very own Electronics Store" />
        <meta property="og:site_name" content="s3Digital.in" />
        <meta property="og:description" content="s3Digital.in - Your very own Electronics Store - Best elctronics store with huge collection of Televisions, Refrigerators, Air Conditioners, Washing Machines and other Accessories." />
        <meta property="og:url" content="https://www.s3digital.in" />
        <meta property="og:type" content="website" />
        <meta property="og:image" content="https://s3digital.in/img/logo.jpg" />

        <script>
            const fetchurl = 'https://z6frz47vyc.execute-api.ap-south-1.amazonaws.com/dev?';
            const category = new URLSearchParams(window.location.search).get('category');
            const brand = new URLSearchParams(window.location.search).get('brand');
            const type = new URLSearchParams(window.location.search).get('type');
            var data = {'page': 'Categories'};
            var link = '?category=';
            function encodeQueryData(data) 
            {
                const ret = [];
                for (let d in data)
                    ret.push(encodeURIComponent(d) + '=' + encodeURIComponent(data[d]));
                return ret.join('&');
            }
            
            
            if (category!=null && brand!=null)
            {
                if (type!=null)
                {
                    data = { 'category': category, 'brand': brand, 'type': type };
                }
                else
                {
                data = { 'category': category, 'brand': brand };
                }
            }
            else if (category!=null)
            {
                data = { 'category': category};
                link = '?category='+category+'&brand=';
            }
            
            var querystring = encodeQueryData(data);
            if (type!=null)
                { 
                delete data['type'];
                }
        </script>

        <!-- The compiled CSS file -->
        <link rel="stylesheet" href="css/production.css">

        <!-- favicon.ico. Place these in the root directory. -->
        <link rel="shortcut icon" href="favicon.ico">
        
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

    </head>


    <body class="has-animations">


    <!-- Header -->
    <header class="pt2 pb1 align--center">
        <div class="container">
            <h1 title="s3Digital"><b>S3 DIGITAL PLAZA</b></h1>
        </div>
    </header>

    <div class="container text-center">

        <h2 id="currentpage"></h2>
        <br>
        <br>
        <div class="container" id='apires'>
           
        </div>
    </div>

    <script type='text/javascript'>
        try {   
            console.log(querystring);
            document.getElementById('currentpage').innerHTML = Object.values(data).join(' - ');
            fetch(fetchurl+querystring)
            .then(response => {
                responsecopy = response.clone();
                if (!response.ok) {
                console.log(responsecopy.json());
                }
                return response.text();

            }).then(responsedata =>{
                var employee_data = responsedata.split(/\r?\n|\r/);
                if (Object.keys(data).length>=2)
                {

                var table_data = '<br><br><center><table class="table table-bordered table-striped table-responsive">';
                for(var count = 0; count<employee_data.length; count++)
                {
                var cell_data = employee_data[count].split("|");
                table_data += '<tr>';
                for(var cell_count=0; cell_count<cell_data.length; cell_count++)
                {
                    if(count === 0)
                    {
                    table_data += '<th>'+cell_data[cell_count]+'</th>';
                    }
                    else
                    {
                    table_data += '<td>'+cell_data[cell_count]+'</td>';
                    }
                }
                table_data += '</tr>';
                }
                table_data += '</table></center>';
                document.getElementById('apires').innerHTML=table_data;
                
                }
                else{
                    
                    var table_data = '';//'<br><br><center><table class="table">';
                    for(var count = 1; count<employee_data.length; count++)
                    {
                    var cell_data = employee_data[count];
                    console.log(cell_data);
                    if (cell_data)
                    {
                    table_data += '<a href="'+link+cell_data+'"><button type="button" class="btn btn-primary btn-lg btn-block">'+cell_data+'</button></a><br>';
                    }
                    
                    }
                    //table_data += '</table></center>';
                    document.getElementById('apires').innerHTML=table_data;
                
                }
            }).catch(error=>{
                console.log(error);
            });
        }
            catch (error) {
                
                console.log('Error');
                document.getElementById('apires').innerHTML=error;
            }

        </script>

    <footer>
        
        <div class="align--center bg--secondary-color pt3 pb3">
            <h4>Design with &#10084; by <a href="https://www.s3digital.in" class="link">s3Digital</a></h4>
            <ul class="no-bullets list--inline mt1">
                <li class="mr1"><a href="https://www.facebook.com" class="link"><img class="icon" src="img/facebook.svg" alt="Facebook"></a></li>
                <li class="mr1"><a href="https://www.twitter.com" class="link"><img class="icon" src="img/twitter.svg" alt="Twitter"></a></li>
                <li><a href="https://www.instagram.com" class="link"><img class="icon" src="img/instagram.svg" alt="Instagram"></a></li>
            </ul>
            <h4>&copy; s3Digital.in</h4>
        </div>
    </footer>

    <!-- Scroll reveal 
    <script src="https://unpkg.com/scrollreveal@4.0.0/dist/scrollreveal.min.js"></script>

    <!-- The compiled JavaScript file -->
    <script src="js/production.js"></script>

    </body>
</html>

